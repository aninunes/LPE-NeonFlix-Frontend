{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anita\\\\Music\\\\LPE\\\\Frontend\\\\src\\\\componentes\\\\telas\\\\login\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { gravaAutenticacao, getToken } from '../../../seguranca/Autenticacao';\nimport Carregando from '../../comuns/Carregando';\nimport Alerta from '../../comuns/Alerta';\nimport './signin.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [senha, setSenha] = useState(\"\");\n  const [alerta, setAlerta] = useState({\n    status: \"\",\n    message: \"\"\n  });\n  const [autenticado, setAutenticado] = useState(false);\n  const [carregando, setCarregando] = useState(false);\n  const acaoLogin = async e => {\n    e.preventDefault();\n    try {\n      const body = {\n        email: email,\n        senha: senha\n      };\n      setCarregando(true);\n      await fetch(`${process.env.REACT_APP_ENDERECO_API}/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      }).then(response => response.json()).then(json => {\n        if (json.auth === false) {\n          setAlerta({\n            status: \"error\",\n            message: json.message\n          });\n        }\n        if (json.auth === true) {\n          setAutenticado(true);\n          gravaAutenticacao(json);\n        }\n      });\n    } catch (err) {\n      console.error(err.message);\n      setAlerta({\n        status: \"error\",\n        message: err.message\n      });\n    } finally {\n      setCarregando(false);\n    }\n  };\n  useEffect(() => {\n    try {\n      const token = getToken();\n      if (token != null) {\n        setAutenticado(true);\n      }\n    } catch (err) {\n      setAlerta({\n        status: \"error\",\n        message: err\n      });\n    }\n  }, []);\n  if (autenticado === true) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/privado\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: /*#__PURE__*/_jsxDEV(Carregando, {\n      carregando: carregando,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"body\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(Alerta, {\n            alerta: alerta\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n            className: \"form-signin\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: acaoLogin,\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"h3 mb-3 fw-normal\",\n                children: \"Login de usu\\xE1rio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-floating\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  id: \"floatingInput\",\n                  placeholder: \"Nome de usu\\xE1rio\",\n                  value: email,\n                  name: \"email\",\n                  onChange: e => setEmail(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"floatingInput\",\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-floating\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  id: \"floatingPassword\",\n                  placeholder: \"Senha\",\n                  value: senha,\n                  name: \"senha\",\n                  onChange: e => setSenha(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"floatingPassword\",\n                  children: \"Senha\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"w-100 btn btn-lg btn-primary\",\n                type: \"submit\",\n                children: \"Efetuar login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"FkLWPHYCV95aQ+LqZzlNczgUwiw=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useEffect","Navigate","gravaAutenticacao","getToken","Carregando","Alerta","jsxDEV","_jsxDEV","Login","_s","email","setEmail","senha","setSenha","alerta","setAlerta","status","message","autenticado","setAutenticado","carregando","setCarregando","acaoLogin","e","preventDefault","body","fetch","process","env","REACT_APP_ENDERECO_API","method","headers","JSON","stringify","then","response","json","auth","err","console","error","token","to","fileName","_jsxFileName","lineNumber","columnNumber","className","children","onSubmit","type","id","placeholder","value","name","onChange","target","htmlFor","_c","$RefreshReg$"],"sources":["C:/Users/anita/Music/LPE/Frontend/src/componentes/telas/login/Login.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { gravaAutenticacao, getToken } from '../../../seguranca/Autenticacao';\r\nimport Carregando from '../../comuns/Carregando';\r\nimport Alerta from '../../comuns/Alerta';\r\nimport './signin.css';\r\n\r\nfunction Login() {\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [senha, setSenha] = useState(\"\");\r\n    const [alerta, setAlerta] = useState({ status: \"\", message: \"\" });\r\n    const [autenticado, setAutenticado] = useState(false);\r\n    const [carregando, setCarregando] = useState(false);\r\n\r\n    const acaoLogin = async e => {\r\n\r\n        e.preventDefault();\r\n\r\n        try {\r\n            const body = {\r\n                email: email,\r\n                senha: senha\r\n            };\r\n            setCarregando(true);\r\n            await fetch(`${process.env.REACT_APP_ENDERECO_API}/login`, {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(body),\r\n            }).then(response => response.json())\r\n                .then(json => {\r\n                    if (json.auth === false) {\r\n                        setAlerta({ status: \"error\", message: json.message })\r\n                    }\r\n                    if (json.auth === true) {\r\n                        setAutenticado(true);\r\n                        gravaAutenticacao(json);\r\n                    }\r\n                });\r\n        } catch (err) {\r\n            console.error(err.message);\r\n            setAlerta({ status: \"error\", message: err.message })\r\n        } finally {\r\n            setCarregando(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        try {\r\n            const token = getToken();\r\n            if (token != null) {\r\n                setAutenticado(true);\r\n            }\r\n        } catch (err) {\r\n            setAlerta({ status: \"error\", message: err })\r\n        }\r\n    }, []);\r\n\r\n    if (autenticado === true) {\r\n        return <Navigate to=\"/privado\" />\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-container\">\r\n            <Carregando carregando={carregando}>\r\n                <div>\r\n                    <body className=\"text-center\">\r\n                        <Alerta alerta={alerta} />\r\n                        <main className=\"form-signin\">\r\n                            <form onSubmit={acaoLogin}>\r\n                                <h1 className=\"h3 mb-3 fw-normal\">Login de usuário</h1>\r\n\r\n                                <div className=\"form-floating\">\r\n                                    <input type=\"text\" className=\"form-control\" id=\"floatingInput\" placeholder=\"Nome de usuário\"\r\n                                        value={email}\r\n                                        name=\"email\"\r\n                                        onChange={e => setEmail(e.target.value)} />\r\n                                    <label htmlFor=\"floatingInput\">Email</label>\r\n                                </div>\r\n                                <div className=\"form-floating\">\r\n                                    <input type=\"password\" className=\"form-control\" id=\"floatingPassword\" placeholder=\"Senha\"\r\n                                        value={senha}\r\n                                        name=\"senha\"\r\n                                        onChange={e => setSenha(e.target.value)} />\r\n                                    <label htmlFor=\"floatingPassword\">Senha</label>\r\n                                </div>\r\n                                <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">Efetuar login</button>\r\n                            </form>\r\n                        </main>\r\n                    </body>\r\n                </div>\r\n            </Carregando>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}